<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resultados Globales - Saber TyT</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/admin.css}">
</head>

<body>

    <div class="container-fluid">
        <div class="row">

            <!-- SIDEBAR ESTUDIANTE -->
            <nav class="col-md-2 sidebar p-3">
                <h4>üéì Mi Panel</h4>
                <div class="nav flex-column">
                    <a th:href="@{/estudiante/dashboard}" class="nav-link active">üìä Dashboard</a>
                    <a th:href="@{/estudiante/identificacion}" class="nav-link">üÜî Identificaci√≥n</a>
                    <a th:href="@{/estudiante/resultado-global}" class="nav-link">üéØ Resultado Global</a>
                    <a th:href="@{/estudiante/resultados-asignaturas}" class="nav-link">üìö Resultados por Asignatura</a>
                    <a th:href="@{/estudiante/beneficio}" class="nav-link">üéÅ Mi Beneficio</a>
                    <a th:href="@{/estudiante/comparacion}" class="nav-link">üìà Comparaci√≥n</a>
                    <a th:href="@{/logout}" class="nav-link text-danger">üö™ Cerrar Sesi√≥n</a>
                </div>
            </nav>

            <!-- CONTENIDO PRINCIPAL -->
            <div class="col-md-10 p-4">
                <h2>üéØ Mi Resultado Global Saber TyT</h2>
                <p class="text-muted">Puntaje general obtenido en la prueba</p>

                <!-- TARJETA PUNTAJE PRINCIPAL -->
                <div class="card shadow-lg mb-4">
                    <div class="card-header bg-success">
                        <h5 class="mb-0 text-dark">üìä Puntaje Global</h5>
                    </div>
                    <div class="card-body">
                        <div class="row align-items-center">
                            <div class="col-md-6 text-center border-end">
                                <h1 class="display-1 fw-bold mb-3" th:text="${estudiante.puntajeSaberPro}">200</h1>
                                <p class="lead mb-2">de 200 puntos posibles</p>
                                <span class="badge bg-success fs-5" th:text="${estudiante.nivelSaberPro}">Nivel 4</span>
                            </div>
                            <div class="col-md-6">
                                <div class="d-flex justify-content-between mb-2">
                                    <span><strong>Mi Puntaje</strong></span>
                                    <span class="badge bg-primary fs-5" th:text="${estudiante.puntajeSaberPro}">200</span>
                                </div>
                                <div class="progress" style="height: 35px;">
                                    <div class="progress-bar" th:style="'width: ' + (${estudiante.puntajeSaberPro} * 100.0 / 200) + '%;'"></div>
                                </div>
                                <div class="d-flex justify-content-between mb-2 mt-3">
                                    <span><strong>Promedio del Grupo</strong></span>
                                    <span class="badge bg-secondary fs-5" th:text="${promedioTexto}">142.5</span>
                                </div>
                                <div class="progress" style="height: 35px;">
                                    <div class="progress-bar" th:style="'width: ' + (${promedioInt} * 100.0 / 200) + '%;'"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- COMPARACI√ìN CON EL GRUPO -->
                <div class="row g-3 mb-4">
                    <div class="col-md-3">
                        <div class="card text-center p-3">
                            <small class="text-muted">üèÜ Puntaje M√°ximo</small>
                            <h2 th:text="${maximo}">200</h2>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-center p-3">
                            <small class="text-muted">üìä Promedio</small>
                            <h2 th:text="${promedioTexto}">142.5</h2>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-center p-3">
                            <small class="text-muted">üìâ Puntaje M√≠nimo</small>
                            <h2 th:text="${minimo}">96</h2>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-center p-3">
                            <small class="text-muted">üë• Total Estudiantes</small>
                            <h2 th:text="${totalEstudiantes}">34</h2>
                        </div>
                    </div>
                </div>

                <!-- INTERPRETACI√ìN DEL RESULTADO -->
                <div class="card shadow-lg mb-4">
                    <div class="card-header bg-info">
                        <h5 class="mb-0 text-dark">üí° Interpretaci√≥n de tu Resultado</h5>
                    </div>
                    <div class="card-body">
                        <div th:if="${estudiante.puntajeSaberPro >= 171}" class="alert alert-success">
                            <h5 class="alert-heading">üåü ¬°Excelente Desempe√±o!</h5>
                            <ul class="mb-0">
                                <li>Alcanzaste el <strong>nivel m√°s alto (Nivel 4)</strong></li>
                                <li>Tu puntaje te ubica en el <strong>rango superior</strong> a nivel nacional</li>
                                <li>Competencias sobresalientes en todas las √°reas evaluadas</li>
                            </ul>
                        </div>

                        <div th:if="${estudiante.puntajeSaberPro >= 151 && estudiante.puntajeSaberPro < 171}" class="alert alert-warning">
                            <h5 class="alert-heading">‚≠ê ¬°Muy Buen Desempe√±o!</h5>
                            <ul class="mb-0">
                                <li>Alcanzaste el <strong>Nivel 3</strong> en la prueba</li>
                                <li>Tu desempe√±o est√° <strong>por encima del promedio</strong></li>
                            </ul>
                        </div>

                        <div th:if="${estudiante.puntajeSaberPro >= 120 && estudiante.puntajeSaberPro < 151}" class="alert alert-primary">
                            <h5 class="alert-heading">‚úÖ Buen Desempe√±o</h5>
                            <ul class="mb-0">
                                <li>Alcanzaste el <strong>Nivel 2</strong> en la prueba</li>
                                <li>Desempe√±o satisfactorio en las competencias</li>
                            </ul>
                        </div>

                        <div th:if="${estudiante.puntajeSaberPro >= 80 && estudiante.puntajeSaberPro < 120}" class="alert alert-secondary">
                            <h5 class="alert-heading">üìå Desempe√±o B√°sico</h5>
                            <ul class="mb-0">
                                <li>Alcanzaste el <strong>Nivel 1</strong> en la prueba</li>
                                <li>Cumples con el <strong>requisito m√≠nimo</strong> para graduaci√≥n</li>
                            </ul>
                        </div>

                        <div th:if="${estudiante.puntajeSaberPro < 80}" class="alert alert-danger">
                            <h5 class="alert-heading">‚ö†Ô∏è Atenci√≥n Importante</h5>
                            <ul class="mb-0">
                                <li><strong>No cumples</strong> con el requisito m√≠nimo de graduaci√≥n</li>
                                <li>Debes presentar <strong>nuevamente</strong> la prueba Saber TyT</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- ESCALA DE DESEMPE√ëO -->
                <div class="card shadow-lg mb-4">
                    <div class="card-header bg-dark">
                        <h5 class="mb-0 text-light">üìù Escala de Desempe√±o Nacional</h5>
                    </div>
                    <div class="card-body">
                        <table class="table table-bordered">
                            <thead class="table-light">
                                <tr>
                                    <th>Nivel</th>
                                    <th>Rango</th>
                                    <th>Clasificaci√≥n</th>
                                    <th>Descripci√≥n</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Nivel 4</strong></td>
                                    <td>171 - 200</td>
                                    <td><span class="badge bg-success">Excelente</span></td>
                                    <td>Desempe√±o sobresaliente en todas las competencias</td>
                                </tr>
                                <tr>
                                    <td><strong>Nivel 3</strong></td>
                                    <td>151 - 170</td>
                                    <td><span class="badge bg-warning text-dark">Muy Bueno</span></td>
                                    <td>Desempe√±o notable por encima del promedio</td>
                                </tr>
                                <tr>
                                    <td><strong>Nivel 2</strong></td>
                                    <td>120 - 150</td>
                                    <td><span class="badge bg-primary">Bueno</span></td>
                                    <td>Desempe√±o satisfactorio en las competencias</td>
                                </tr>
                                <tr>
                                    <td><strong>Nivel 1</strong></td>
                                    <td>80 - 119</td>
                                    <td><span class="badge bg-secondary">B√°sico</span></td>
                                    <td>Desempe√±o b√°sico cumple requisitos m√≠nimos</td>
                                </tr>
                                <tr>
                                    <td><strong>Sin Nivel</strong></td>
                                    <td>< 80</td>
                                    <td><span class="badge bg-danger">Insuficiente</span></td>
                                    <td>No cumple requisitos para graduaci√≥n</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- BOT√ìN REGRESAR -->
                <div class="text-center">
                    <a th:href="@{/estudiante/dashboard}" class="btn btn-primary btn-lg">‚Üê Volver</a>
                </div>

            </div>

        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>